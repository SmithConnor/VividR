---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-"
)
```


# VIVID: Visualisation of Variable Importance Differences

The VIVID (Variability of Variable Importance Differences) package implements both a feature selection method and visualization for complex data.

## Installation

``` r
library(devtools)
devtools::install_github("SmithConnor/VividR")
install.packages('ropls')
install.packages('furrr')
```

```{r echo = FALSE, message=FALSE,warning=FALSE}
library(furrr)
library(tidyverse)
```


## A quick example

```{r message = FALSE}
library('VIVID')
library('ropls')

data("sacurine") #Load sacurine dataset from the 'ropls' package

dat <- sacurine$dataMatrix
outcomes <- sacurine$sampleMetadata$gender

vivid.sacurine <- vivid(x = dat,
                        y = outcomes,
                        bootstraps = 50,
                        cores = parallel::detectCores() - 1,
                        seed = 1234567,
                        lambda = 'lambda.1se',
                        compareMethod = 'BIC')
```

From the feature selection algorithm using the BIC we have selected:

```{r}
vivid.sacurine$optFeatures
```

And produces the following MVP plot for the entire 109 features on a log scale:

```{r}
vivid_plot(vivid.sacurine, log = TRUE, topN = 0)
```

From this we are able to see that most of the features can be ignored so we produce a new MVP plot with the top 25 features:

```{r}
vivid_plot(vivid.sacurine, log = FALSE, topN = 25)
```


